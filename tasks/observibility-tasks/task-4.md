
# OpenTelemetry Tracing Setup Prompt

## Overview
You are a senior Go backend engineer. I want you to implement **OpenTelemetry** for tracing in the Go project, allowing us to trace requests and the systemâ€™s performance.

### Task:

1. **OpenTelemetry Tracing Setup**:
   - Set up **OpenTelemetry** for tracing in the Go project.
   - Instrument the HTTP requests to create spans for incoming requests, their processing, and outgoing responses.
   - Ensure that each span includes useful metadata, such as:
     - **HTTP method** (e.g., `GET`, `POST`).
     - **Request URL**.
     - **Response status code**.
     - **Response time (latency)**.
     - **Correlation ID** (to trace requests across different systems).

2. **Create Traces for All API Endpoints**:
   - Ensure that all endpoints (`/hello`, `/delayed-hello`, etc.) are properly traced with spans that capture the duration and other relevant metadata of the request.

3. **Tempo Integration**:
   - If needed, integrate **Tempo** for trace storage.
   - Ensure that the traces collected by OpenTelemetry are sent to Tempo for visualization and analysis.

4. **Prometheus Metrics**:
   - Ensure that **Prometheus metrics** are still available and that **OpenTelemetry** does not interfere with the metrics collection.

5. **Logging with Correlation ID**:
   - Ensure that **Zerolog** is configured to log traces with the **Correlation ID** generated by OpenTelemetry.
   - Logs should include details such as the trace ID and span ID for easier tracing and debugging.

6. **Expected Output**:
   - A fully configured **OpenTelemetry tracing setup**.
   - Traces should be captured for all incoming HTTP requests and relevant system operations.
   - If Tempo is used, traces should be sent to Tempo for storage.
   - **Zerolog** logs should include trace metadata such as correlation ID, trace ID, and span ID.
