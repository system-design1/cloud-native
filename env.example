# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=15s
SERVER_WRITE_TIMEOUT=15s
SERVER_IDLE_TIMEOUT=120s
SERVER_GRACEFUL_SHUTDOWN_TIMEOUT=10s

# Database Configuration
DB_HOST=postgres
# DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=go_backend_db
DB_SSLMODE=disable

# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production-min-32-chars
JWT_EXPIRATION=24h

# Application Configuration
GIN_MODE=debug
# GIN_MODE=release 

# Logging Configuration
LOG_LEVEL=info

# OpenTelemetry Tracing Configuration
OTEL_TRACING_ENABLED=true
OTEL_SERVICE_NAME=go-backend-service
OTEL_SERVICE_VERSION=1.0.0

# Tempo Configuration (برای ارسال traces به Tempo)
# برای اجرای محلی با Tempo: OTEL_TEMPO_ENDPOINT=localhost:4318
# برای Docker Compose: OTEL_TEMPO_ENDPOINT=tempo:4318
# OTEL_TEMPO_ENABLED=true
# OTEL_TEMPO_ENDPOINT=localhost:4318

# Jaeger Configuration (برای ارسال traces به Jaeger)
# برای اجرای محلی: OTEL_JAEGER_ENDPOINT=localhost:4320
# برای Docker Compose: OTEL_JAEGER_ENDPOINT=jaeger:4318
# OTEL_JAEGER_ENABLED=true
# OTEL_JAEGER_ENDPOINT=localhost:4320

# Route-Based Tracing Policy Configuration
# این تنظیمات به شما امکان کنترل sampling traces بر اساس route را می‌دهد
# برای غیرفعال کردن policy و استفاده از رفتار پیش‌فرض (sample همه traces):
# OTEL_ROUTE_POLICY_ENABLED=false

# فعال‌سازی route-based policy
OTEL_ROUTE_POLICY_ENABLED=true

# Routes که همیشه trace می‌شوند (ALWAYS)
# برای endpoints مهم که می‌خواهید همیشه trace شوند
OTEL_ROUTE_ALWAYS=/delayed-hello,/test-error

# Routes که هرگز trace نمی‌شوند (DROP)
# برای endpoints پرترافیک که نمی‌خواهید trace شوند (مثل /metrics)
OTEL_ROUTE_DROP=/metrics

# Routes با sampling ratio (RATIO)
# فرمت: path=ratio (ratio باید بین 0.0 و 1.0 باشد)
# مثال: /health=0.01 یعنی 1% از requests به /health trace می‌شوند
# برای endpoints پرترافیک که می‌خواهید گاهی trace شوند
OTEL_ROUTE_RATIO=/health=0.01,/live=0.01,/ready=0.01

# Default policy برای routes که در لیست‌های بالا نیستند
# مقادیر ممکن: always, ratio, drop
# always: همه traces را sample می‌کند (پیش‌فرض)
# ratio: از OTEL_ROUTE_DEFAULT_RATIO استفاده می‌کند
# drop: هیچ trace ای sample نمی‌کند
OTEL_ROUTE_DEFAULT=always

# Default ratio (فقط زمانی استفاده می‌شود که OTEL_ROUTE_DEFAULT=ratio)
# باید بین 0.0 و 1.0 باشد (مثلاً 0.01 = 1%, 0.1 = 10%, 1.0 = 100%)
OTEL_ROUTE_DEFAULT_RATIO=1.0

# ============================================================================
# Load Testing Sampling Policy (Optional)
# ============================================================================
# این تنظیمات برای جلوگیری از overload شدن Jaeger/Tempo در طول تست‌های با بار بالا
# برای اطلاعات بیشتر، به docs/LOAD_TESTING_TRACING_SAMPLING.md مراجعه کنید
#
# برای فعال‌سازی load test sampling policy، تنظیمات زیر را جایگزین کنید:
#
# # Load Test Sampling Policy (Drop high-volume endpoints)
# OTEL_ROUTE_POLICY_ENABLED=true
# OTEL_ROUTE_ALWAYS=/test-error,/delayed-hello
# OTEL_ROUTE_DROP=/hello,/health,/ready,/live,/metrics
# OTEL_ROUTE_DEFAULT=drop
# OTEL_ROUTE_DEFAULT_RATIO=1.0
#
# یا برای sampling با 0.1%:
#
# # Load Test Sampling Policy (0.1% sampling for high-volume endpoints)
# OTEL_ROUTE_POLICY_ENABLED=true
# OTEL_ROUTE_ALWAYS=/test-error,/delayed-hello
# OTEL_ROUTE_DROP=/metrics
# OTEL_ROUTE_RATIO=/hello=0.001,/health=0.001,/ready=0.001,/live=0.001
# OTEL_ROUTE_DEFAULT=drop
# OTEL_ROUTE_DEFAULT_RATIO=1.0
#
# بعد از اتمام load test، به تنظیمات پیش‌فرض بالا برگردید.

